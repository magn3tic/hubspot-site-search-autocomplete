!function(y,x,I){y.fn.hubspotAutocomplete=function(e){var t="1.2.0";if(window.hubspotAutocomplete={version:t,options:e,debug:!1},e&&"string"==typeof e&&(e=JSON.parse(e)),!y.isPlainObject(e)||!e.portalId)return console.error("[Hubspot Autocomplete 1.2.0] - A Hubspot portal ID is required."),y.noop;var p=y.extend(!0,{},{portalId:null,accentColor:"#226db7",highlightOpacity:.25,pathPrefix:null,pageTypes:["SITE_PAGE","BLOG_POST","LANDING_PAGE"],thumbnailImages:!0,hubDb:{table:null,query:null},resultItemLength:"LONG",truncateContent:!1,minInputValue:0,resultLimit:15,viewAllLink:"https://www.google.com/search?q=%term%",viewAllText:'View all matches for "%term%"',viewAllIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>',noMatchesText:'No results found matching "%term%"',label:!1,input:{type:"text",autocomplete:"off",placeholder:"Search This Site",value:""},searchTimeout:300,searchIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>',css:!0,enableLoadMore:!1,domain:"",excludeDomains:[],USDateFormatting:!0},e);if(!p.portalId)return console.error("[Hubspot Autocomplete] - No PortalId option provided."),!1;var h=y("body"),n=null,r=null,i=null,a="https://api.hubapi.com/contentsearch/v2/search?",l={term:null,portalId:p.portalId,autocomplete:!0,length:p.resultItemLength,limit:p.resultLimit},d=null;function c(e){var t,s,a,n,r,i,l='.hssa-input-wrapper input[type="search"]:focus ~ .hssa-input--icon svg, ';l+='.hssa-input-wrapper input[type="text"]:focus ~ .hssa-input--icon svg,',l+=".hssa-results .hssa-viewall a:hover svg {stroke:"+e+"}",l+=".hssa-loader--icon span { background:"+e+"; }",l+=".hssa-input-label label:hover { color:"+e+"; }",l+=".hssa-results .hs-search-highlight { background:"+(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),t=a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null,s=p.highlightOpacity,"rgba("+t.r+", "+t.g+", "+t.g+", "+s+")")+" }",n=l,r=I.head||I.getElementsByTagName("head")[0],(i=I.createElement("style")).appendChild(I.createTextNode(n)),r.appendChild(i)}function o(e){return e.replace("%term%",l.term)}function u(){var e=y(this).parent().data("hssa-input-index"),t=y('[data-hssa-results-index="'+e+'"]'),s=t.find(".hssa-results");return{$outer:t,$inner:s}}function m(t){var e=function(){if(!p.USDateFormatting&&t.publishedDate){var e=new Date(t.publishedDate);return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()}return!!t.publishedDate&&new Date(t.publishedDate).toLocaleDateString("en-US")},s='<div class="hssa-postmeta">';return t.authorFullName&&(s+="<span>"+t.authorFullName+"</span>",e()&&(s+='<span class="hssa-middot">&middot;</span>')),e()&&(s+="<span>"+e()+"</span>"),s+"</div>"}function f(s,a){return{done:function(e){var t;0<e.total?(s.html(function(e){for(var t="<ul>",s=0;s<e.length;s++){var a=e[s];if(!(-1<p.excludeDomains.indexOf(a.domain))){var n=a.description?"<p><span>"+a.description+"<span></p>":"";t+='<li data-hssa-result-type="'+a.type+'"><a href="'+a.url+'"><div>',"BLOG_POST"===a.type&&(t+='<figure><span data-hssa-thumb="'+a.featuredImageUrl+'"></span></figure>',t+=m(a)),t+="<h4>"+e[s].title+"</h4>"+n+"</div></a></li>"}}return p.viewAllLink&&(t+='<li class="hssa-viewall"><a href="'+o(p.viewAllLink)+'"><h4>',t+=o(p.viewAllText)+' <span class="hssa-viewall--icon">'+p.viewAllIcon+"</span></h4></a></li>"),t+="</ul>"}(e.results)),a.removeClass("has-empty-results").addClass("has-results"),0!==(t=s.find('figure:not([class*="load-started"])')).length&&t.each(function(e){var t=y(this),s=t.children("[data-hssa-thumb]"),a=s.data("hssa-thumb"),n=new Image;t.addClass("load-started"),n.onload=function(){s.css({backgroundImage:"url("+a+")"}),t.addClass("load-finished")},a&&(n.src=a)})):(s.html('<p class="hssa-nomatches">'+o(p.noMatchesText)+"</p>"),a.removeClass("has-results").addClass("has-empty-results")),a.removeClass("is-loading").trigger("hssa.xhrcomplete",[e])},fail:function(e,t,s){"abort"!==t&&a.addClass("has-error").trigger("hssa.xhrfail")}}}function g(e,t){var s=f(e,t);p.domain.length&&(l.domain=p.domain),(n=y.getJSON(a+function(e){for(var t=y.param(e),s=0;s<p.pageTypes.length;s++)t+="&type="+p.pageTypes[s];return t}(l))).done(s.done),n.fail(s.fail)}function v(){null!==n&&n.abort(),r&&clearTimeout(r);var e,t,s=y(this),a=u.call(this);l.term=y.trim(s.val()),e=a.$outer,t=a.$inner,0===l.term.length?(e.removeClass("has-results has-empty-results is-loading"),t.html("")):e.addClass("is-loading"),l.term.length>p.minInputValue&&l.term!==i&&(r=window.setTimeout(function(){g(a.$inner,a.$outer)},p.searchTimeout))}function w(){u.call(this).$outer.addClass("is-focused")}function b(e){var t=e.input.offset();e.results.css({width:e.input.width(),left:t.left,top:t.top+e.input.height()})}return y(this).each(function(e){0<y("#hssa-input-"+e).length&&e++;var t=y(this);if(t.hasClass("has-initialized"))return!1;p.css&&c(p.accentColor);var s=t.find('input[type="text"], input[type="search"]'),a=!!s.length,n=a?s:y(function(e){var t='<input id="hssa-input-'+e+'" ';for(var s in p.input)t+=s+'="'+p.input[s]+'" ';return t+">"}(e)),r=y('<div class="hssa-results"></div>'),i=y('<div class="hssa-loader"></div>');a?t.append(r):t.prepend(n,r),i.html('<div class="hssa-loader--icon"><span></span><span></span><span></span></div>'),r.wrap('<div class="hssa-results-outer" data-hssa-results-index="'+e+'"></div>').before(i),n.wrap('<div class="hssa-input-wrapper" data-hssa-input-index="'+e+'"></div>'),p.searchIcon&&n.after('<span class="hssa-input--icon">'+p.searchIcon+"</span>").after('<span class="hssa-input-deco" style="background:'+p.accentColor+';"></span>'),p.label&&t.prepend('<div class="hssa-input-label"><label for="hssa-input-'+e+'">'+p.label+"</label></div>"),p.truncateContent&&t.addClass("hssa-truncate-content");var l,o,u={results:r.parent(".hssa-results-outer"),input:t.find(".hssa-input-wrapper")};l=t,n.on({input:v,focus:w}),l.trigger("hssa.ready").on("click",function(e){e.stopPropagation()}),y(I).on("click",function(){y(".hssa-results-outer.is-focused").removeClass("is-focused")}),(o=u).results.detach().appendTo(h),b(o),t.addClass("has-initialized"),y(x).resize(function(){var e;e=u,d&&clearTimeout(d),d=setTimeout(function(){b(e)},500)})})}}(jQuery,window,document);